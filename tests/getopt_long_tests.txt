# Argument description parsing
Missing trailing synonym;setup;foo|;Do not recognise description 'foo|'
Missing second trailing synonym;setup;foo|bar|;Do not recognise description 'foo|bar|'
Missing starting synonym;setup;|foo;Do not recognise description '|foo'
Missing second starting synonym;setup;|foo|bar;Do not recognise description '|foo|bar'
Missing mandatory type specifier;setup;foo=;Do not recognise description 'foo='
Missing optional type specifier;setup;foo:;Do not recognise description 'foo:'
Doubled mandatory type specifier;setup;foo==;Do not recognise description 'foo=='
Doubled optional type specifier;setup;foo::;Do not recognise description 'foo::'
Invalid type specifier;setup;foo=q;Do not recognise description 'foo=q'
Mixed standard and increment specifier;setup;foo=i+;Do not recognise description 'foo=i+'
Mixed standard and negation specifier;setup;foo=i!;Do not recognise description 'foo=i!'
Mixed increment and negation specifier;setup;foo!+;Do not recognise description 'foo!+'
Extra suffix on type specifier;setup;foo=ss;Do not recognise description 'foo=ss'
Extra suffix on increment specifier;setup;foo++;Do not recognise description 'foo++'
Equal descriptions are smashed together in array;setup;foo foo;OK
Warning about duplicate synonyms - A in B first;setup;foo|foobar foo;Warning: synonym foo declared twice - ignoring.\nOK
Warning about duplicate synonyms - A in B last;setup;foobar|foo foo;Warning: synonym foo declared twice - ignoring.\nOK
Warning about duplicate synonyms - B in A first;setup;foo foo|foobar;Warning: synonym foo declared twice - ignoring.\nOK
Warning about duplicate synonyms - B in A last;setup;foo foobar|foo;Warning: synonym foo declared twice - ignoring.\nOK
Warning about duplicate synonyms - short;setup;foo|f file|f;Warning: synonym f declared twice - ignoring.\nOK
Warning about duplicate synonyms - one negated, the other not;setup;notice tice!;Warning: synonym notice declared twice - ignoring.\nOK
# No arguments
No arguments;noargs;;()
Non-option argument;noargs;foo;(foo)
# Flag argument
Verbose (no argument);flag;;0,()
Verbose (short);flag;-v;1,()
Verbose (long);flag;-verbose;1,()
Verbose (long double-dash);flag;--verbose;1,()
Verbose with arg before;flag;foo -v;1,(foo)
Verbose with arg before;flag;-v foo;1,(foo)
Verbose twice (just set);flag;-v -v;1,()
Verbose with finish options (none preceding);flag;-- -v;0,(-v)
Verbose with finish options (flag preceding);flag;-v -- -v;1,(-v)
# Negatable flag argument
Negatable (none);negatable;;ok,()
Negatable (short);negatable;-f;1,()
Negatable (long);negatable;-flag;1,()
Negatable (long double-dash);negatable;--flag;1,()
Negatable negated (short);negatable;-nof;0,()
Negatable negated (long);negatable;-noflag;0,()
Negatable negated (long double-dash);negatable;--noflag;0,()
Negatable with arg before;negatable;foo -f;1,(foo)
Negatable with arg after;negatable;-f foo;1,(foo)
Negatable (negated) with arg before;negatable;foo -nof;0,(foo)
Negatable (negated) with arg after;negatable;-nof foo;0,(foo)
# Mandatory arguments (string)
Mandatory (no argument);mandatory_single;;,()
Mandatory arg (short);mandatory_single;-m file;file,()
Mandatory arg (long);mandatory_single;-mandatory file;file,()
Mandatory arg (long double-dash);mandatory_single;--mandatory file;file,()
Mandatory arg with arg before;mandatory_single;foo -m file;file,(foo)
Mandatory arg with arg after;mandatory_single;-m file foo;file,(foo)
Mandatory arg twice (latter value);mandatory_single;-m file1 -m file2;file2,()
Mandatory arg error if not supplied;mandatory_single;-m;Argument -m missing its parameter
Mandatory arg with finish options (mandatory preceding);mandatory_single;-m file -- -i;file,(-i)
# Mandatory arguments (integer)
Mandatory arg integer (no argument);mandatory_integer;;,()
Mandatory arg integer normal;mandatory_integer;-m 1;1,()
Mandatory arg integer largish;mandatory_integer;-m 16777216;16777216,()
Mandatory arg integer negative;mandatory_integer;-m -1;-1,()
Mandatory arg error on string;mandatory_integer;-m foo;-m argument requires an integer
Mandatory arg error on float;mandatory_integer;-m 3.14;-m argument requires an integer
# Mandatory arguments into an array - explicit @ declaration in GetOptions
Mandatory arg array explicit (no argument);mandatory_array_explicit;;,()
Mandatory arg array explicit (short);mandatory_array_explicit;-m file1 -m file2;(file1,file2),()
Mandatory arg array explicit (long);mandatory_array_explicit;-mandatory file1 -mandatory file2;(file1,file2),()
Mandatory arg array explicit (long double-dash);mandatory_array_explicit;--mandatory file1 --mandatory file2;(file1,file2),()
Mandatory arg array explicit (mixed);mandatory_array_explicit;-m file1 -mandatory file2 --mandatory file3;(file1,file2,file3),()
Mandatory arg array explicit with extra before;mandatory_array_explicit;foo -m file1 -m file2;(file1,file2),(foo)
Mandatory arg array explicit with extra during;mandatory_array_explicit;-m file1 foo -m file2;(file1,file2),(foo)
Mandatory arg array explicit with extra after;mandatory_array_explicit;-m file1 -m file2 foo;(file1,file2),(foo)
# Mandatory arguments into an array - implicit via passing an array reference
Mandatory arg array implicit (short);mandatory_array_implicit;-m file1 -m file2;(file1,file2),()
Mandatory arg array implicit (long);mandatory_array_implicit;-mandatory file1 -mandatory file2;(file1,file2),()
Mandatory arg array implicit (long double-dash);mandatory_array_implicit;--mandatory file1 --mandatory file2;(file1,file2),()
Mandatory arg array implicit (mixed);mandatory_array_implicit;-m file1 -mandatory file2 --mandatory file3;(file1,file2,file3),()
Mandatory arg array implicit with extra before;mandatory_array_implicit;foo -m file1 -m file2;(file1,file2),(foo)
Mandatory arg array implicit with extra during;mandatory_array_implicit;-m file1 foo -m file2;(file1,file2),(foo)
Mandatory arg array implicit with extra after;mandatory_array_implicit;-m file1 -m file2 foo;(file1,file2),(foo)
# Optional arguments
Optional arg (no arguments);optional_single;;,()
Optional arg (missing) (short);optional_single;-o;1,()
Optional arg (missing) (long);optional_single;-optional;1,()
Optional arg (missing) (long double-dash);optional_single;--optional;1,()
Optional arg (missing) with arg before;optional_single;foo -o;1,(foo)
Optional arg (missing) with option after;optional_single;-o -v;1,(-v)
Optional arg (missing) twice (just set);optional_single;-o -o;1,()
Optional arg (present) (short);optional_single;-o 3;3,()
Optional arg (present) (long);optional_single;-optional 3;3,()
Optional arg (present) (long double-dash);optional_single;--optional 3;3,()
Optional arg (present) with arg before;optional_single;foo -o 3;3,(foo)
Optional arg (present) with arg after;optional_single;-o 3 foo;3,(foo)
Optional arg (present) twice (latter value);optional_single;-o foo -o bar;bar,()
Optional arg with finish options (optional non-supplied preceding);optional_single;-o -- -i;1,(-i)
Optional arg with finish options (optional supplied preceding);optional_single;-o opt -- -i;opt,(-i)
# Optional arguments (integer)
Optional arg integer (no arguments);optional_integer;;,()
Optional arg integer normal;optional_integer;-o 1;1,()
Optional arg integer largish;optional_integer;-o 16777216;16777216,()
Optional arg error on string;optional_integer;-o foo;-o argument requires an integer
Optional arg error on float;optional_integer;-o 3.14;-o argument requires an integer
# Incremented arguments
Increment (no arguments);increment;;0,()
Increment (short);increment;-i;1,()
Increment (long);increment;-increment;1,()
Increment (long double-dash);increment;--increment;1,()
Increment with arg before;increment;foo -i;1,(foo)
Increment with arg after;increment;-i foo;1,(foo)
Double increment;increment;-i -i;2,()
Double increment (different names);increment;-i -increment;2,()
Increment with finish options (increment preceding);increment;-i -- -i;1,(-i)
# Help configuration
Help text set, no options;help;;0,,,0,0,()
Help text set, flag;help;--flag;1,,,0,0,()
Help text set, mandatory;help;--mandatory 42;0,42,,0,0,()
Help text set, optional (missing);help;--optional;0,,1,0,0,()
Help text set, optional (present);help;--optional;0,,1,0,0,()
Help text set, increment;help;--increment;0,,,1,0,()
Help text set, negatable;help;--negatable;0,,,0,1,()
Help text set, help option (short) alone;help;-h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option (long single) alone;help;-help;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option (long double) alone;help;--help;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
# help should always be printed even if other things are on the command line
Help text set, help option with flag after;help;-h --flag;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with flag before;help;--flag -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with mandatory after;help;-h --mandatory 3;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with mandatory before;help;--mandatory 3 -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with optional (missing) after;help;-h -optional;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with optional (missing) before;help;--optional -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with optional (present) after;help;-h -o 3;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with optional (present) before;help;--optional 3 -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with increment after;help;-h -i;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with increment before;help;--increment -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with negatable after;help;-h --negatable;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
Help text set, help option with negatable before;help;-n -h;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
# but help should only be recognised before a stop-options double dash
Help text set, help option with stop options before;help;-- -h;0,,,0,0,(-h)
Help text set, help option with stop options after;help;-h --;Usage: test_help.php options...\n  flag : Flag option\n  increment|i : Incrementing option\n  mandatory|m : Mandatory option\n  negatable|n : Negatable option\n  optional|o : Optional option
# And help shouldn't be supplied if we ask to deal with the help option ourselves.
Help text set, help option manually set, no options, should warn and not generate help;help_own;;Warning: option 'help' already supplied, ignoring help supplied in targets\nOK(help=0)
Help text set, help option manually set, other option given, should warn and not generate help;help_own;-foo;Warning: option 'help' already supplied, ignoring help supplied in targets\nOK(help=0)
Help text set, help option manually set, help option given, should warn and not generate help;help_own;-help;Warning: option 'help' already supplied, ignoring help supplied in targets\nOK(help=1)

